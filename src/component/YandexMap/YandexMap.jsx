import React from "react";
import style from "./YandexMap.module.css"
import {YMaps, Map, Placemark, Polygon} from 'react-yandex-maps';
import ReactDOM from 'react-dom';
import AlertDescription from "../AlertDescription/AlertDescription";

class YandexMap extends React.Component {

    mapData = {
        center: [58.654520, 56.275120],
        zoom: 6,
    };
    coordination = [
        [60.733070, 56.703531],
        [60.730479, 56.700604],
        [57.483593, 54.547379],
        [57.024849, 57.550066],
    ]
    //координаты Кудымарского
    coordinPolyg =[
        [59.523145, 55.392910],
        [59.495356, 55.575470],
        [59.372980, 55.522361],
        [59.366567, 55.557651],
        [59.366567, 55.557651],
        [59.345374, 55.582108],
        [59.328411, 55.576728],
        [59.333526, 55.551292],
        [59.295582, 55.531725],
        [59.315308, 55.395006],
        [59.155173, 55.305490],
        [59.197894, 54.980500],
        [59.188374, 54.983924],
        [59.136219, 54.964357],
        [59.137725, 54.950172],
        [59.122415, 54.954085],
        [59.110865, 54.935986],
        [59.084739, 54.939410],
        [59.080215, 54.946259],
        [59.066639, 54.942345],
        [59.058089, 54.919844],
        [59.049034, 54.916909],
        [59.066850, 54.941044],
        [59.058335, 54.918567],
        [59.049819, 54.916201],
        [59.043734, 54.874797],
        [59.048602, 54.852320],
        [59.047081, 54.828069],
        [59.047044, 54.828559],
        [59.036761, 54.836434],
        [58.987173, 54.852789],
        [58.987485, 54.823713],
        [58.987228, 54.822991],
        [58.889661, 54.729842],
        [58.882061, 54.737546],
        [58.879889, 54.772564],
        [58.863597, 54.797077],
        [58.863959, 54.816687],
        [58.805605, 54.799178],
        [58.802341, 54.809684],
        [58.807056, 54.845402],
        [58.793270, 54.848204],
        [58.787100, 54.828594],
        [58.766770, 54.834196],
        [58.754420, 54.856608],
        [58.758687, 54.885656],
        [58.713683, 54.839008],
        [58.666755, 54.894626],
        [58.659290, 54.864724],
        [58.634708, 54.868312],
        [58.607305, 54.873097],
        [58.618207, 54.826449],
        [58.598893, 54.786979],
        [58.606994, 54.756479],
        [58.621632, 54.741527],
        [58.620075, 54.700263],
        [58.602632, 54.739733],
        [58.601697, 54.710429],
        [58.608551, 54.663184],
        [58.617272, 54.658998],
        [58.617525, 54.619171],
        [58.626821, 54.555313],
        [58.633254, 54.523727],
        [58.630038, 54.510681],
        [58.641474, 54.488022],
        [58.653264, 54.427597],
        [58.660050, 54.376785],
        [58.677902, 54.293701],
        [58.679330, 54.295074],
        [58.695388, 54.277222],
        [58.687181, 54.251129],
        [58.703950, 54.170792],
        [58.695031, 54.146759],
        [58.698242, 54.135086],
        [58.705020, 54.136459],
        [58.717501, 54.055435],
        [58.732473, 53.997757],
        [58.747082, 53.929779],
        [58.747082, 53.929779],
        [58.761329, 53.967544],
        [58.765602, 53.936645],
        [58.778061, 53.942825],
        [58.781976, 53.920853],
        [58.798343, 53.929092],
        [58.816124, 53.872101],
        [58.838749, 53.822550],
        [58.862352, 53.801039],
        [58.887286, 53.807557],
        [58.936429, 53.771053],
        [58.976768, 53.763883],
        [58.976768, 53.763883],
        [59.033163, 53.865247],
        [59.068363, 53.884803],
        [59.084442, 53.914137],
        [59.088126, 53.900448],
        [59.126615, 53.871766],
        [59.112563, 53.827765],
        [59.183432, 53.732593],
        [59.208469, 53.688919],
        [59.228818, 53.701304],
        [59.235154, 53.729334],
        [59.233821, 53.755408],
        [59.257154, 53.817987],
        [59.238822, 53.851232],
        [59.215142, 53.893603],
        [59.214141, 53.935322],
        [59.232820, 54.009634],
        [59.213474, 54.055917],
        [59.209804, 54.087206],
        [59.220146, 54.132184],
        [59.222481, 54.155000],
        [59.214475, 54.164778],
        [59.216477, 54.269075],
        [59.187773, 54.287328],
        [59.187439, 54.306232],
        [59.201127, 54.304276],
        [59.213808, 54.320572],
        [59.226484, 54.314054],
        [59.240822, 54.357077],
        [59.273478, 54.394233],
        [59.273811, 54.456160],
        [59.271813, 54.497227],
        [59.255488, 54.515479],
        [59.266816, 54.552635],
        [59.289461, 54.652370],
        [59.302775, 54.670622],
        [59.322071, 54.673230],
        [59.340690, 54.660192],
        [59.325729, 54.869440],
        [59.346341, 54.883781],
        [59.328057, 55.044139],
        [59.351990, 55.052613],
        [59.334707, 55.193415],
        [59.444243, 55.241001],
        [59.523145, 55.392910]
    ]
    // styleAlert = "none";

    ForestDescription = [
        {
            id: 0,
            XY: [60.733070, 56.703531],
            img1: "",
            img2: "",
            Name: "Чердынский городской округ",
            HasTrees: true,
            S: 100,
        },
        {
            id: 1,
            XY: [60.730479, 56.700604],
            img1: "",
            img2: "",
            Name: "Чердынский городской округ",
            HasTrees: true,
            S: 100,
        },
        {
            id: 2,
            XY: [57.483593, 54.547379],
            img1: "",
            img2: "",
            Name: "озимовая пшеница, Черновское сельское поселение",
            HasTrees: true,
            S: 100,
        },
        {
            id: 3,
            XY: [57.024849, 57.550066],
            img1: "",
            img2: "",
            Name: "подсолнечник",
            HasTrees: false,
            S: 100,
        },
        {
            id:4,
            XY:[59.667439, 56.315279],
            img1: "",
            img2: "",
            Name: "подсолнечник",
            HasTrees: false,
            S: 100,
        },
        {
            id:4,
            XY:[59.072559, 54.342995],
            img1: "",
            img2: "",
            Name: "подсолнечник",
            HasTrees: false,
            S: 100,
        }

    ];

    Open=(id)=>{
        let NewID=id;
        // this.styleAlert="flex";
        this.hisTrue=true
    }
    hisTrue=false;

    render() {
        return (
            <div className={style.container}>
                <YMaps>
                    <Map className={style.Map} defaultState={this.mapData}>
                        {this.ForestDescription.map((el, id) => <Placemark
                            onClick={() => {
                                this.Open(id)
                                //тут должно быть куда больше выходящих данных, но из за ленивого меня , все пошло не по плану
                                alert(
                                    el.HasTrees ? "Имеет деревья":"без деревьев"
                                )
                            }}
                            geometry={el.XY}/>)}
                    </Map>
                    {
                        this.hisTrue ? <div className={style.AlertContainer}>
                        </div>: <div className={style.loading}>
                            <img src={require("../../img/gif.gif")} alt="фокус"/>
                        </div>
                    }
                    {/*<Polygon*/}

                    {/*/>*/}
                </YMaps>
            </div>
        )
    }
};

export default YandexMap;